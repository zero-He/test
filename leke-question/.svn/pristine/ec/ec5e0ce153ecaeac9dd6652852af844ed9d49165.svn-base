/*
 * Copyright (c) 2014 Strong Group - 版权所有
 * 
 * This software is the confidential and proprietary information of
 * Strong Group. You shall not disclose such confidential information 
 * and shall use it only in accordance with the terms of the license 
 * agreement you entered into with www.cnstrong.cn.
 */
package cn.strong.leke.question.word.que.template;

import static org.junit.Assert.assertEquals;

import org.junit.Test;

import cn.strong.leke.question.word.Doc2HtmlConverter;
import cn.strong.leke.question.word.model.ChoiceStem;
import cn.strong.leke.question.word.model.Doc;
import cn.strong.leke.question.word.model.DocCtx;
import cn.strong.leke.question.word.model.JsArray;
import cn.strong.leke.question.word.model.Text;

/**
 *
 *
 * @author  liulongbiao
 * @created 2014年12月22日 上午8:42:06
 * @since   v3.2.1
 */
public class ChoiceStemParserTest {


	@Test
	public void test() {
		Doc content = initContent();
		ChoiceStemParser parser = new ChoiceStemParser();
		content.accept(parser);
		ChoiceStem cs = parser.getStem();
		JsArray<DocCtx> options = cs.getOptions();
		assertEquals("options size is 4", 4, options.size());
		int i = 0;
		for (DocCtx ctx : options) {
			System.out.println(i + " : ");
			System.out.println(Doc2HtmlConverter.convert(ctx.getDoc()));
			i++;
		}
	}

	private Doc initContent() {
		DocCtx ctx = new DocCtx();
		ctx.addInline(new Text("这是题干"));
		ctx.paragraphStarted();
		ctx.addInline(new Text("A"));
		ctx.addInline(new Text(". 选项A B"));
		ctx.addInline(new Text(". 选项b C"));
		ctx.addInline(new Text(". 选项c D"));
		ctx.addInline(new Text(". 选项d"));
		return ctx.getDoc();
	}

}
