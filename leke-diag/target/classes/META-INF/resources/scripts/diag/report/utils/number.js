define(function (require, exports, module) {
"use strict";function format(t,e){if(void 0===t||null===t||""===t||isNaN(+t)||!e)return t;var r,n,i,o,a,s,l,h,u,f,g=e.length,d=e.search(/[0-9\-\+#]/),c=d>0?e.substring(0,d):"",x=e.split("").reverse().join(""),p=x.search(/[0-9\-\+#]/),F=g-p,m=F+("."===e.charAt(F)?1:0),v=p>0?e.substring(m,g):"";if(e=e.substring(d,m),t="-"===e.charAt(0)?-t:+t,r=t<0?t=-t:0,n=e.match(/[^\d\-\+#]/g),i=n&&n[n.length-1]||".",o=n&&n[1]&&n[0]||",",e=e.split(i),t=t.toFixed(e[1]&&e[1].length),t=+t+"",s=e[1]&&e[1].lastIndexOf("0"),h=t.split("."),(!h[1]||h[1]&&h[1].length<=s)&&(t=(+t).toFixed(s+1)),u=e[0].split(o),e[0]=u.join(""),(a=e[0]&&e[0].indexOf("0"))>-1)for(;h[0].length<e[0].length-a;)h[0]="0"+h[0];else 0==+h[0]&&(h[0]="");if(t=t.split("."),t[0]=h[0],l=u[1]&&u[u.length-1].length){for(f=t[0],x="",F=f.length%l,g=f.length,m=0;m<g;m++)x+=f.charAt(m),!((m-F+1)%l)&&m<g-l&&(x+=o);t[0]=x}return t[1]=e[1]&&t[1]?i+t[1]:"",n=t.join(""),"0"!==n&&""!==n||(r=!1),c+(r?"-":"")+n+v}function toFixed(t,e){var r=parseFloat(t);if(isNaN(r))return t;if((e=e||0)<1)return Math.round(r);var n=Math.pow(10,e);return Math.round(r*n)/n}function toRate(t,e,r){return 0==e?0:toFixed(100*t/e,r||0)}module.exports={format:format,toFixed:toFixed,toRate:toRate};
});