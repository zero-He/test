{"version":3,"sources":["dropload.bundle.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","$","fnTouches","touches","originalEvent","fnTouchstart","me","_startY","pageY","touchScrollTop","$scrollArea","scrollTop","fnTouchmove","_curY","_moveY","direction","_absMoveY","Math","abs","opts","loadUpFn","isLockUp","preventDefault","$domUp","domUp","domClass","upInsertDOM","$element","prepend","fnTransition","distance","_offsetY","html","domRefresh","domUpdate","css","height","fnTouchend","children","domLoad","loading","on","this","remove","fnAutoLoad","autoLoad","_scrollContentHeight","_threshold","_scrollWindowHeight","loadDown","fnRecoverContentHeight","scrollArea","win","$doc","scrollHeight","$domDown","domDown","loadDownFn","dom","num","-webkit-transition","transition","window","doc","document","$win","fn","dropload","options","MyDropLoad","element","isLockDown","isData","_scrollTop","init","prototype","extend","domNoData","threshold","append","floor","documentElement","clientHeight","innerHeight","lock","undefined","unlock","noData","flag","resetload","Zepto","jQuery"],"mappings":"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","file":"dropload.bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/**\r\n * dropload\r\n * 西门(http://ons.me/526.html)\r\n * 0.9.0(160215)\r\n */\n\n;(function ($) {\n    'use strict';\n\n    var win = window;\n    var doc = document;\n    var $win = $(win);\n    var $doc = $(doc);\n    $.fn.dropload = function (options) {\n        return new MyDropLoad(this, options);\n    };\n    var MyDropLoad = function MyDropLoad(element, options) {\n        var me = this;\n        me.$element = element;\n        // 上方是否插入DOM\n        me.upInsertDOM = false;\n        // loading状态\n        me.loading = false;\n        // 是否锁定\n        me.isLockUp = false;\n        me.isLockDown = false;\n        // 是否有数据\n        me.isData = true;\n        me._scrollTop = 0;\n        me._threshold = 0;\n        me.init(options);\n    };\n\n    // 初始化\n    MyDropLoad.prototype.init = function (options) {\n        var me = this;\n        me.opts = $.extend(true, {}, {\n            scrollArea: me.$element, // 滑动区域\n            domUp: { // 上方DOM\n                domClass: 'dropload-up',\n                domRefresh: '<div class=\"dropload-refresh\">↓下拉刷新</div>',\n                domUpdate: '<div class=\"dropload-update\">↑释放更新</div>',\n                domLoad: '<div class=\"dropload-load\"><span class=\"loading\"></span>加载中...</div>'\n            },\n            domDown: { // 下方DOM\n                domClass: 'dropload-down',\n                domRefresh: '<div class=\"dropload-refresh\">↑上拉加载更多</div>',\n                domLoad: '<div class=\"dropload-load\"><span class=\"loading\"></span>加载中...</div>',\n                domNoData: '<div class=\"dropload-noData\">没有更多数据了</div>'\n            },\n            autoLoad: true, // 自动加载\n            distance: 50, // 拉动距离\n            threshold: '', // 提前加载距离\n            loadUpFn: '', // 上方function\n            loadDownFn: '' // 下方function\n        }, options);\n\n        // 如果加载下方，事先在下方插入DOM\n        if (me.opts.loadDownFn != '') {\n            me.$domDown = $('.' + me.opts.domDown.domClass).html(me.opts.domDown.domRefresh);\n\n            if (!me.$domDown.length) {\n                me.$element.append('<div class=\"' + me.opts.domDown.domClass + '\">' + me.opts.domDown.domRefresh + '</div>');\n                me.$domDown = $('.' + me.opts.domDown.domClass);\n            }\n        }\n\n        // 计算提前加载距离\n        if (!!me.$domDown && me.opts.threshold === '') {\n            // 默认滑到加载区2/3处时加载\n            me._threshold = Math.floor(me.$domDown.height() * 1 / 3);\n        } else {\n            me._threshold = me.opts.threshold;\n        }\n\n        // 判断滚动区域\n        if (me.opts.scrollArea == win) {\n            me.$scrollArea = $win;\n            // 获取文档高度\n            me._scrollContentHeight = $doc.height();\n            // 获取win显示区高度  —— 这里有坑\n            me._scrollWindowHeight = doc.documentElement.clientHeight;\n        } else {\n            me.$scrollArea = me.opts.scrollArea;\n            me._scrollContentHeight = me.$element[0].scrollHeight;\n            me._scrollWindowHeight = me.$element.height();\n        }\n        fnAutoLoad(me);\n\n        // 窗口调整\n        $win.on('resize', function () {\n            if (me.opts.scrollArea == win) {\n                // 重新获取win显示区高度\n                me._scrollWindowHeight = win.innerHeight;\n            } else {\n                me._scrollWindowHeight = me.$element.height();\n            }\n        });\n\n        // 绑定触摸\n        me.$element.on('touchstart', function (e) {\n            if (!me.loading) {\n                fnTouches(e);\n                fnTouchstart(e, me);\n            }\n        });\n        me.$element.on('touchmove', function (e) {\n            if (!me.loading) {\n                fnTouches(e, me);\n                fnTouchmove(e, me);\n            }\n        });\n        me.$element.on('touchend', function () {\n            if (!me.loading) {\n                fnTouchend(me);\n            }\n        });\n\n        // 加载下方\n        me.$scrollArea.on('scroll', function () {\n            me._scrollTop = me.$scrollArea.scrollTop();\n            // 滚动页面触发加载数据\n            if (me.opts.loadDownFn != '' && !me.loading && !me.isLockDown && me._scrollContentHeight - me._threshold <= me._scrollWindowHeight + me._scrollTop) {\n                loadDown(me);\n            }\n        });\n    };\n\n    // touches\n    function fnTouches(e) {\n        if (!e.touches) {\n            e.touches = e.originalEvent.touches;\n        }\n    }\n\n    // touchstart\n    function fnTouchstart(e, me) {\n        me._startY = e.touches[0].pageY;\n        // 记住触摸时的scrolltop值\n        me.touchScrollTop = me.$scrollArea.scrollTop();\n    }\n\n    // touchmove\n    function fnTouchmove(e, me) {\n        me._curY = e.touches[0].pageY;\n        me._moveY = me._curY - me._startY;\n\n        if (me._moveY > 0) {\n            me.direction = 'down';\n        } else if (me._moveY < 0) {\n            me.direction = 'up';\n        }\n\n        var _absMoveY = Math.abs(me._moveY);\n\n        // 加载上方\n        if (me.opts.loadUpFn != '' && me.touchScrollTop <= 0 && me.direction == 'down' && !me.isLockUp) {\n            e.preventDefault();\n\n            me.$domUp = $('.' + me.opts.domUp.domClass);\n            // 如果加载区没有DOM\n            if (!me.upInsertDOM) {\n                me.$element.prepend('<div class=\"' + me.opts.domUp.domClass + '\"></div>');\n                me.upInsertDOM = true;\n            }\n\n            fnTransition(me.$domUp, 0);\n\n            // 下拉\n            if (_absMoveY <= me.opts.distance) {\n                me._offsetY = _absMoveY;\n                // todo：move时会不断清空、增加dom，有可能影响性能，下同\n                me.$domUp.html(me.opts.domUp.domRefresh);\n                // 指定距离 < 下拉距离 < 指定距离*2\n            } else if (_absMoveY > me.opts.distance && _absMoveY <= me.opts.distance * 2) {\n                me._offsetY = me.opts.distance + (_absMoveY - me.opts.distance) * 0.5;\n                me.$domUp.html(me.opts.domUp.domUpdate);\n                // 下拉距离 > 指定距离*2\n            } else {\n                me._offsetY = me.opts.distance + me.opts.distance * 0.5 + (_absMoveY - me.opts.distance * 2) * 0.2;\n            }\n\n            me.$domUp.css({ 'height': me._offsetY });\n        }\n    }\n\n    // touchend\n    function fnTouchend(me) {\n        var _absMoveY = Math.abs(me._moveY);\n        if (me.opts.loadUpFn != '' && me.touchScrollTop <= 0 && me.direction == 'down' && !me.isLockUp) {\n            fnTransition(me.$domUp, 300);\n\n            if (_absMoveY > me.opts.distance) {\n                me.$domUp.css({ 'height': me.$domUp.children().height() });\n                me.$domUp.html(me.opts.domUp.domLoad);\n                me.loading = true;\n                me.opts.loadUpFn(me);\n            } else {\n                me.$domUp.css({ 'height': '0' }).on('webkitTransitionEnd mozTransitionEnd transitionend', function () {\n                    me.upInsertDOM = false;\n                    $(this).remove();\n                });\n            }\n            me._moveY = 0;\n        }\n    }\n\n    // 如果文档高度不大于窗口高度，数据较少，自动加载下方数据\n    function fnAutoLoad(me) {\n        if (me.opts.autoLoad) {\n            if (me._scrollContentHeight - me._threshold <= me._scrollWindowHeight) {\n                loadDown(me);\n            }\n        }\n    }\n\n    // 重新获取文档高度\n    function fnRecoverContentHeight(me) {\n        if (me.opts.scrollArea == win) {\n            me._scrollContentHeight = $doc.height();\n        } else {\n            me._scrollContentHeight = me.$element[0].scrollHeight;\n        }\n    }\n\n    // 加载下方\n    function loadDown(me) {\n        me.direction = 'up';\n        me.$domDown.html(me.opts.domDown.domLoad);\n        me.loading = true;\n        me.opts.loadDownFn(me);\n    }\n\n    // 锁定\n    MyDropLoad.prototype.lock = function (direction) {\n        var me = this;\n        // 如果不指定方向\n        if (direction === undefined) {\n            // 如果操作方向向上\n            if (me.direction == 'up') {\n                me.isLockDown = true;\n                // 如果操作方向向下\n            } else if (me.direction == 'down') {\n                me.isLockUp = true;\n            } else {\n                me.isLockUp = true;\n                me.isLockDown = true;\n            }\n            // 如果指定锁上方\n        } else if (direction == 'up') {\n            me.isLockUp = true;\n            // 如果指定锁下方\n        } else if (direction == 'down') {\n            me.isLockDown = true;\n            // 为了解决DEMO5中tab效果bug，因为滑动到下面，再滑上去点tab，direction=down，所以有bug\n            me.direction = 'up';\n        }\n    };\n\n    // 解锁\n    MyDropLoad.prototype.unlock = function () {\n        var me = this;\n        // 简单粗暴解锁\n        me.isLockUp = false;\n        me.isLockDown = false;\n        // 为了解决DEMO5中tab效果bug，因为滑动到下面，再滑上去点tab，direction=down，所以有bug\n        me.direction = 'up';\n    };\n\n    // 无数据\n    MyDropLoad.prototype.noData = function (flag) {\n        var me = this;\n        if (flag === undefined || flag == true) {\n            me.isData = false;\n        } else if (flag == false) {\n            me.isData = true;\n        }\n    };\n\n    // 重置\n    MyDropLoad.prototype.resetload = function () {\n        var me = this;\n        if (me.direction == 'down' && me.upInsertDOM) {\n            me.$domUp.css({ 'height': '0' }).on('webkitTransitionEnd mozTransitionEnd transitionend', function () {\n                me.loading = false;\n                me.upInsertDOM = false;\n                $(this).remove();\n                fnRecoverContentHeight(me);\n            });\n        } else if (me.direction == 'up') {\n            me.loading = false;\n            // 如果有数据\n            if (me.isData) {\n                // 加载区修改样式\n                me.$domDown.html(me.opts.domDown.domRefresh);\n                fnRecoverContentHeight(me);\n                fnAutoLoad(me);\n            } else {\n                // 如果没数据\n                me.$domDown.html(me.opts.domDown.domNoData);\n            }\n        }\n    };\n\n    // css过渡\n    function fnTransition(dom, num) {\n        dom.css({\n            '-webkit-transition': 'all ' + num + 'ms',\n            'transition': 'all ' + num + 'ms'\n        });\n    }\n})(window.Zepto || window.jQuery);\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGxpYlxcZHJvcGxvYWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOzs7Ozs7QUFNQSxDQUFDLENBQUMsVUFBUyxDQUFULEVBQVc7QUFDVDs7QUFDQSxRQUFJLE1BQU0sTUFBVjtBQUNBLFFBQUksTUFBTSxRQUFWO0FBQ0EsUUFBSSxPQUFPLEVBQUUsR0FBRixDQUFYO0FBQ0EsUUFBSSxPQUFPLEVBQUUsR0FBRixDQUFYO0FBQ0EsTUFBRSxFQUFGLENBQUssUUFBTCxHQUFnQixVQUFTLE9BQVQsRUFBaUI7QUFDN0IsZUFBTyxJQUFJLFVBQUosQ0FBZSxJQUFmLEVBQXFCLE9BQXJCLENBQVA7QUFDSCxLQUZEO0FBR0EsUUFBSSxhQUFhLFNBQWIsVUFBYSxDQUFTLE9BQVQsRUFBa0IsT0FBbEIsRUFBMEI7QUFDdkMsWUFBSSxLQUFLLElBQVQ7QUFDQSxXQUFHLFFBQUgsR0FBYyxPQUFkO0FBQ0E7QUFDQSxXQUFHLFdBQUgsR0FBaUIsS0FBakI7QUFDQTtBQUNBLFdBQUcsT0FBSCxHQUFhLEtBQWI7QUFDQTtBQUNBLFdBQUcsUUFBSCxHQUFjLEtBQWQ7QUFDQSxXQUFHLFVBQUgsR0FBZ0IsS0FBaEI7QUFDQTtBQUNBLFdBQUcsTUFBSCxHQUFZLElBQVo7QUFDQSxXQUFHLFVBQUgsR0FBZ0IsQ0FBaEI7QUFDQSxXQUFHLFVBQUgsR0FBZ0IsQ0FBaEI7QUFDQSxXQUFHLElBQUgsQ0FBUSxPQUFSO0FBQ0gsS0FmRDs7QUFpQkE7QUFDQSxlQUFXLFNBQVgsQ0FBcUIsSUFBckIsR0FBNEIsVUFBUyxPQUFULEVBQWlCO0FBQ3pDLFlBQUksS0FBSyxJQUFUO0FBQ0EsV0FBRyxJQUFILEdBQVUsRUFBRSxNQUFGLENBQVMsSUFBVCxFQUFlLEVBQWYsRUFBbUI7QUFDekIsd0JBQWEsR0FBRyxRQURTLEVBQzRDO0FBQ3JF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LG9EQUFqQyxFQUFzRixZQUFVO0FBQzVGLG1CQUFHLE9BQUgsR0FBYSxLQUFiO0FBQ0EsbUJBQUcsV0FBSCxHQUFpQixLQUFqQjtBQUNBLGtCQUFFLElBQUYsRUFBUSxNQUFSO0FBQ0EsdUNBQXVCLEVBQXZCO0FBQ0gsYUFMRDtBQU1ILFNBUEQsTUFPTSxJQUFHLEdBQUcsU0FBSCxJQUFnQixJQUFuQixFQUF3QjtBQUMxQixlQUFHLE9BQUgsR0FBYSxLQUFiO0FBQ0E7QUFDQSxnQkFBRyxHQUFHLE1BQU4sRUFBYTtBQUNUO0FBQ0EsbUJBQUcsUUFBSCxDQUFZLElBQVosQ0FBaUIsR0FBRyxJQUFILENBQVEsT0FBUixDQUFnQixVQUFqQztBQUNBLHVDQUF1QixFQUF2QjtBQUNBLDJCQUFXLEVBQVg7QUFDSCxhQUxELE1BS0s7QUFDRDtBQUNBLG1CQUFHLFFBQUgsQ0FBWSxJQUFaLENBQWlCLEdBQUcsSUFBSCxDQUFRLE9BQVIsQ0FBZ0IsU0FBakM7QUFDSDtBQUNKO0FBQ0osS0F0QkQ7O0FBd0JBO0FBQ0EsYUFBUyxZQUFULENBQXNCLEdBQXRCLEVBQTBCLEdBQTFCLEVBQThCO0FBQzFCLFlBQUksR0FBSixDQUFRO0FBQ0osa0NBQXFCLFNBQU8sR0FBUCxHQUFXLElBRDVCO0FBRUosMEJBQWEsU0FBTyxHQUFQLEdBQVc7QUFGcEIsU0FBUjtBQUlIO0FBQ0osQ0FoVEEsRUFnVEUsT0FBTyxLQUFQLElBQWdCLE9BQU8sTUFoVHpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxyXG4gKiBkcm9wbG9hZFxyXG4gKiDopb/pl6goaHR0cDovL29ucy5tZS81MjYuaHRtbClcclxuICogMC45LjAoMTYwMjE1KVxyXG4gKi9cclxuXHJcbjsoZnVuY3Rpb24oJCl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgd2luID0gd2luZG93O1xyXG4gICAgdmFyIGRvYyA9IGRvY3VtZW50O1xyXG4gICAgdmFyICR3aW4gPSAkKHdpbik7XHJcbiAgICB2YXIgJGRvYyA9ICQoZG9jKTtcclxuICAgICQuZm4uZHJvcGxvYWQgPSBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgICAgICByZXR1cm4gbmV3IE15RHJvcExvYWQodGhpcywgb3B0aW9ucyk7XHJcbiAgICB9O1xyXG4gICAgdmFyIE15RHJvcExvYWQgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKXtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIG1lLiRlbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICAvLyDkuIrmlrnmmK/lkKbmj5LlhaVET01cclxuICAgICAgICBtZS51cEluc2VydERPTSA9IGZhbHNlO1xyXG4gICAgICAgIC8vIGxvYWRpbmfnirbmgIFcclxuICAgICAgICBtZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgLy8g5piv5ZCm6ZSB5a6aXHJcbiAgICAgICAgbWUuaXNMb2NrVXAgPSBmYWxzZTtcclxuICAgICAgICBtZS5pc0xvY2tEb3duID0gZmFsc2U7XHJcbiAgICAgICAgLy8g5piv5ZCm5pyJ5pWw5o2uXHJcbiAgICAgICAgbWUuaXNEYXRhID0gdHJ1ZTtcclxuICAgICAgICBtZS5fc2Nyb2xsVG9wID0gMDtcclxuICAgICAgICBtZS5fdGhyZXNob2xkID0gMDtcclxuICAgICAgICBtZS5pbml0KG9wdGlvbnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDliJ3lp4vljJZcclxuICAgIE15RHJvcExvYWQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbihvcHRpb25zKXtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIG1lLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwge1xyXG4gICAgICAgICAgICBzY3JvbGxBcmVhIDogbWUuJGVsZW1lbnQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmu5HliqjljLrln59cclxuICAgICAgICAgICAgZG9tVXAgOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5LiK5pa5RE9NXHJcbiAgICAgICAgICAgICAgICBkb21DbGFzcyAgIDogJ2Ryb3Bsb2FkLXVwJyxcclxuICAgICAgICAgICAgICAgIGRvbVJlZnJlc2ggOiAnPGRpdiBjbGFzcz1cImRyb3Bsb2FkLXJlZnJlc2hcIj7ihpPkuIvmi4nliLfmlrA8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgZG9tVXBkYXRlICA6ICc8ZGl2IGNsYXNzPVwiZHJvcGxvYWQtdXBkYXRlXCI+4oaR6YeK5pS+5pu05pawPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGRvbUxvYWQgICAgOiAnPGRpdiBjbGFzcz1cImRyb3Bsb2FkLWxvYWRcIj48c3BhbiBjbGFzcz1cImxvYWRpbmdcIj48L3NwYW4+5Yqg6L295LitLi4uPC9kaXY+J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkb21Eb3duIDogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDkuIvmlrlET01cclxuICAgICAgICAgICAgICAgIGRvbUNsYXNzICAgOiAnZHJvcGxvYWQtZG93bicsXHJcbiAgICAgICAgICAgICAgICBkb21SZWZyZXNoIDogJzxkaXYgY2xhc3M9XCJkcm9wbG9hZC1yZWZyZXNoXCI+4oaR5LiK5ouJ5Yqg6L295pu05aSaPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGRvbUxvYWQgICAgOiAnPGRpdiBjbGFzcz1cImRyb3Bsb2FkLWxvYWRcIj48c3BhbiBjbGFzcz1cImxvYWRpbmdcIj48L3NwYW4+5Yqg6L295LitLi4uPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgIGRvbU5vRGF0YSAgOiAnPGRpdiBjbGFzcz1cImRyb3Bsb2FkLW5vRGF0YVwiPuayoeacieabtOWkmuaVsOaNruS6hjwvZGl2PidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYXV0b0xvYWQgOiB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6Ieq5Yqo5Yqg6L29XHJcbiAgICAgICAgICAgIGRpc3RhbmNlIDogNTAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaLieWKqOi3neemu1xyXG4gICAgICAgICAgICB0aHJlc2hvbGQgOiAnJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDmj5DliY3liqDovb3ot53nprtcclxuICAgICAgICAgICAgbG9hZFVwRm4gOiAnJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5LiK5pa5ZnVuY3Rpb25cclxuICAgICAgICAgICAgbG9hZERvd25GbiA6ICcnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5LiL5pa5ZnVuY3Rpb25cclxuICAgICAgICB9LCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgLy8g5aaC5p6c5Yqg6L295LiL5pa577yM5LqL5YWI5Zyo5LiL5pa55o+S5YWlRE9NXHJcbiAgICAgICAgaWYobWUub3B0cy5sb2FkRG93bkZuICE9ICcnKXtcclxuICAgICAgICBcdG1lLiRkb21Eb3duID0gJCgnLicrbWUub3B0cy5kb21Eb3duLmRvbUNsYXNzKS5odG1sKG1lLm9wdHMuZG9tRG93bi5kb21SZWZyZXNoKTtcclxuICAgICAgICBcdFxyXG4gICAgICAgIFx0aWYgKCFtZS4kZG9tRG93bi5sZW5ndGgpIHtcclxuICAgICAgICBcdFx0bWUuJGVsZW1lbnQuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiJyttZS5vcHRzLmRvbURvd24uZG9tQ2xhc3MrJ1wiPicrbWUub3B0cy5kb21Eb3duLmRvbVJlZnJlc2grJzwvZGl2PicpO1xyXG4gICAgICAgIFx0XHRtZS4kZG9tRG93biA9ICQoJy4nK21lLm9wdHMuZG9tRG93bi5kb21DbGFzcyk7XHJcbiAgICAgICAgXHR9IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g6K6h566X5o+Q5YmN5Yqg6L296Led56a7XHJcbiAgICAgICAgaWYoISFtZS4kZG9tRG93biAmJiBtZS5vcHRzLnRocmVzaG9sZCA9PT0gJycpe1xyXG4gICAgICAgICAgICAvLyDpu5jorqTmu5HliLDliqDovb3ljLoyLzPlpITml7bliqDovb1cclxuICAgICAgICAgICAgbWUuX3RocmVzaG9sZCA9IE1hdGguZmxvb3IobWUuJGRvbURvd24uaGVpZ2h0KCkqMS8zKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgbWUuX3RocmVzaG9sZCA9IG1lLm9wdHMudGhyZXNob2xkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5Yik5pat5rua5Yqo5Yy65Z+fXHJcbiAgICAgICAgaWYobWUub3B0cy5zY3JvbGxBcmVhID09IHdpbil7XHJcbiAgICAgICAgICAgIG1lLiRzY3JvbGxBcmVhID0gJHdpbjtcclxuICAgICAgICAgICAgLy8g6I635Y+W5paH5qGj6auY5bqmXHJcbiAgICAgICAgICAgIG1lLl9zY3JvbGxDb250ZW50SGVpZ2h0ID0gJGRvYy5oZWlnaHQoKTtcclxuICAgICAgICAgICAgLy8g6I635Y+Wd2lu5pi+56S65Yy66auY5bqmICDigJTigJQg6L+Z6YeM5pyJ5Z2RXHJcbiAgICAgICAgICAgIG1lLl9zY3JvbGxXaW5kb3dIZWlnaHQgPSBkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgbWUuJHNjcm9sbEFyZWEgPSBtZS5vcHRzLnNjcm9sbEFyZWE7XHJcbiAgICAgICAgICAgIG1lLl9zY3JvbGxDb250ZW50SGVpZ2h0ID0gbWUuJGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgICAgICBtZS5fc2Nyb2xsV2luZG93SGVpZ2h0ID0gbWUuJGVsZW1lbnQuaGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZuQXV0b0xvYWQobWUpO1xyXG5cclxuICAgICAgICAvLyDnqpflj6PosIPmlbRcclxuICAgICAgICAkd2luLm9uKCdyZXNpemUnLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKG1lLm9wdHMuc2Nyb2xsQXJlYSA9PSB3aW4pe1xyXG4gICAgICAgICAgICAgICAgLy8g6YeN5paw6I635Y+Wd2lu5pi+56S65Yy66auY5bqmXHJcbiAgICAgICAgICAgICAgICBtZS5fc2Nyb2xsV2luZG93SGVpZ2h0ID0gd2luLmlubmVySGVpZ2h0O1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIG1lLl9zY3JvbGxXaW5kb3dIZWlnaHQgPSBtZS4kZWxlbWVudC5oZWlnaHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDnu5Hlrprop6bmkbhcclxuICAgICAgICBtZS4kZWxlbWVudC5vbigndG91Y2hzdGFydCcsZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGlmKCFtZS5sb2FkaW5nKXtcclxuICAgICAgICAgICAgICAgIGZuVG91Y2hlcyhlKTtcclxuICAgICAgICAgICAgICAgIGZuVG91Y2hzdGFydChlLCBtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBtZS4kZWxlbWVudC5vbigndG91Y2htb3ZlJyxmdW5jdGlvbihlKXtcclxuICAgICAgICAgICAgaWYoIW1lLmxvYWRpbmcpe1xyXG4gICAgICAgICAgICAgICAgZm5Ub3VjaGVzKGUsIG1lKTtcclxuICAgICAgICAgICAgICAgIGZuVG91Y2htb3ZlKGUsIG1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1lLiRlbGVtZW50Lm9uKCd0b3VjaGVuZCcsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoIW1lLmxvYWRpbmcpe1xyXG4gICAgICAgICAgICAgICAgZm5Ub3VjaGVuZChtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8g5Yqg6L295LiL5pa5XHJcbiAgICAgICAgbWUuJHNjcm9sbEFyZWEub24oJ3Njcm9sbCcsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgbWUuX3Njcm9sbFRvcCA9IG1lLiRzY3JvbGxBcmVhLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICAvLyDmu5rliqjpobXpnaLop6blj5HliqDovb3mlbDmja5cclxuICAgICAgICAgICAgaWYobWUub3B0cy5sb2FkRG93bkZuICE9ICcnICYmICFtZS5sb2FkaW5nICYmICFtZS5pc0xvY2tEb3duICYmIChtZS5fc2Nyb2xsQ29udGVudEhlaWdodCAtIG1lLl90aHJlc2hvbGQpIDw9IChtZS5fc2Nyb2xsV2luZG93SGVpZ2h0ICsgbWUuX3Njcm9sbFRvcCkpe1xyXG4gICAgICAgICAgICAgICAgbG9hZERvd24obWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHRvdWNoZXNcclxuICAgIGZ1bmN0aW9uIGZuVG91Y2hlcyhlKXtcclxuICAgICAgICBpZighZS50b3VjaGVzKXtcclxuICAgICAgICAgICAgZS50b3VjaGVzID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRvdWNoc3RhcnRcclxuICAgIGZ1bmN0aW9uIGZuVG91Y2hzdGFydChlLCBtZSl7XHJcbiAgICAgICAgbWUuX3N0YXJ0WSA9IGUudG91Y2hlc1swXS5wYWdlWTtcclxuICAgICAgICAvLyDorrDkvY/op6bmkbjml7bnmoRzY3JvbGx0b3DlgLxcclxuICAgICAgICBtZS50b3VjaFNjcm9sbFRvcCA9IG1lLiRzY3JvbGxBcmVhLnNjcm9sbFRvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRvdWNobW92ZVxyXG4gICAgZnVuY3Rpb24gZm5Ub3VjaG1vdmUoZSwgbWUpe1xyXG4gICAgICAgIG1lLl9jdXJZID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xyXG4gICAgICAgIG1lLl9tb3ZlWSA9IG1lLl9jdXJZIC0gbWUuX3N0YXJ0WTtcclxuXHJcbiAgICAgICAgaWYobWUuX21vdmVZID4gMCl7XHJcbiAgICAgICAgICAgIG1lLmRpcmVjdGlvbiA9ICdkb3duJztcclxuICAgICAgICB9ZWxzZSBpZihtZS5fbW92ZVkgPCAwKXtcclxuICAgICAgICAgICAgbWUuZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBfYWJzTW92ZVkgPSBNYXRoLmFicyhtZS5fbW92ZVkpO1xyXG5cclxuICAgICAgICAvLyDliqDovb3kuIrmlrlcclxuICAgICAgICBpZihtZS5vcHRzLmxvYWRVcEZuICE9ICcnICYmIG1lLnRvdWNoU2Nyb2xsVG9wIDw9IDAgJiYgbWUuZGlyZWN0aW9uID09ICdkb3duJyAmJiAhbWUuaXNMb2NrVXApe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBtZS4kZG9tVXAgPSAkKCcuJyttZS5vcHRzLmRvbVVwLmRvbUNsYXNzKTtcclxuICAgICAgICAgICAgLy8g5aaC5p6c5Yqg6L295Yy65rKh5pyJRE9NXHJcbiAgICAgICAgICAgIGlmKCFtZS51cEluc2VydERPTSl7XHJcbiAgICAgICAgICAgICAgICBtZS4kZWxlbWVudC5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwiJyttZS5vcHRzLmRvbVVwLmRvbUNsYXNzKydcIj48L2Rpdj4nKTtcclxuICAgICAgICAgICAgICAgIG1lLnVwSW5zZXJ0RE9NID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm5UcmFuc2l0aW9uKG1lLiRkb21VcCwwKTtcclxuXHJcbiAgICAgICAgICAgIC8vIOS4i+aLiVxyXG4gICAgICAgICAgICBpZihfYWJzTW92ZVkgPD0gbWUub3B0cy5kaXN0YW5jZSl7XHJcbiAgICAgICAgICAgICAgICBtZS5fb2Zmc2V0WSA9IF9hYnNNb3ZlWTtcclxuICAgICAgICAgICAgICAgIC8vIHRvZG/vvJptb3Zl5pe25Lya5LiN5pat5riF56m644CB5aKe5YqgZG9t77yM5pyJ5Y+v6IO95b2x5ZON5oCn6IO977yM5LiL5ZCMXHJcbiAgICAgICAgICAgICAgICBtZS4kZG9tVXAuaHRtbChtZS5vcHRzLmRvbVVwLmRvbVJlZnJlc2gpO1xyXG4gICAgICAgICAgICAvLyDmjIflrprot53nprsgPCDkuIvmi4not53nprsgPCDmjIflrprot53nprsqMlxyXG4gICAgICAgICAgICB9ZWxzZSBpZihfYWJzTW92ZVkgPiBtZS5vcHRzLmRpc3RhbmNlICYmIF9hYnNNb3ZlWSA8PSBtZS5vcHRzLmRpc3RhbmNlKjIpe1xyXG4gICAgICAgICAgICAgICAgbWUuX29mZnNldFkgPSBtZS5vcHRzLmRpc3RhbmNlKyhfYWJzTW92ZVktbWUub3B0cy5kaXN0YW5jZSkqMC41O1xyXG4gICAgICAgICAgICAgICAgbWUuJGRvbVVwLmh0bWwobWUub3B0cy5kb21VcC5kb21VcGRhdGUpO1xyXG4gICAgICAgICAgICAvLyDkuIvmi4not53nprsgPiDmjIflrprot53nprsqMlxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIG1lLl9vZmZzZXRZID0gbWUub3B0cy5kaXN0YW5jZSttZS5vcHRzLmRpc3RhbmNlKjAuNSsoX2Fic01vdmVZLW1lLm9wdHMuZGlzdGFuY2UqMikqMC4yO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtZS4kZG9tVXAuY3NzKHsnaGVpZ2h0JzogbWUuX29mZnNldFl9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdG91Y2hlbmRcclxuICAgIGZ1bmN0aW9uIGZuVG91Y2hlbmQobWUpe1xyXG4gICAgICAgIHZhciBfYWJzTW92ZVkgPSBNYXRoLmFicyhtZS5fbW92ZVkpO1xyXG4gICAgICAgIGlmKG1lLm9wdHMubG9hZFVwRm4gIT0gJycgJiYgbWUudG91Y2hTY3JvbGxUb3AgPD0gMCAmJiBtZS5kaXJlY3Rpb24gPT0gJ2Rvd24nICYmICFtZS5pc0xvY2tVcCl7XHJcbiAgICAgICAgICAgIGZuVHJhbnNpdGlvbihtZS4kZG9tVXAsMzAwKTtcclxuXHJcbiAgICAgICAgICAgIGlmKF9hYnNNb3ZlWSA+IG1lLm9wdHMuZGlzdGFuY2Upe1xyXG4gICAgICAgICAgICAgICAgbWUuJGRvbVVwLmNzcyh7J2hlaWdodCc6bWUuJGRvbVVwLmNoaWxkcmVuKCkuaGVpZ2h0KCl9KTtcclxuICAgICAgICAgICAgICAgIG1lLiRkb21VcC5odG1sKG1lLm9wdHMuZG9tVXAuZG9tTG9hZCk7XHJcbiAgICAgICAgICAgICAgICBtZS5sb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1lLm9wdHMubG9hZFVwRm4obWUpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIG1lLiRkb21VcC5jc3MoeydoZWlnaHQnOicwJ30pLm9uKCd3ZWJraXRUcmFuc2l0aW9uRW5kIG1velRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZCcsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBtZS51cEluc2VydERPTSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtZS5fbW92ZVkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDlpoLmnpzmlofmoaPpq5jluqbkuI3lpKfkuo7nqpflj6Ppq5jluqbvvIzmlbDmja7ovoPlsJHvvIzoh6rliqjliqDovb3kuIvmlrnmlbDmja5cclxuICAgIGZ1bmN0aW9uIGZuQXV0b0xvYWQobWUpe1xyXG4gICAgICAgIGlmKG1lLm9wdHMuYXV0b0xvYWQpe1xyXG4gICAgICAgICAgICBpZigobWUuX3Njcm9sbENvbnRlbnRIZWlnaHQgLSBtZS5fdGhyZXNob2xkKSA8PSBtZS5fc2Nyb2xsV2luZG93SGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgIGxvYWREb3duKG1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDph43mlrDojrflj5bmlofmoaPpq5jluqZcclxuICAgIGZ1bmN0aW9uIGZuUmVjb3ZlckNvbnRlbnRIZWlnaHQobWUpe1xyXG4gICAgICAgIGlmKG1lLm9wdHMuc2Nyb2xsQXJlYSA9PSB3aW4pe1xyXG4gICAgICAgICAgICBtZS5fc2Nyb2xsQ29udGVudEhlaWdodCA9ICRkb2MuaGVpZ2h0KCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIG1lLl9zY3JvbGxDb250ZW50SGVpZ2h0ID0gbWUuJGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDliqDovb3kuIvmlrlcclxuICAgIGZ1bmN0aW9uIGxvYWREb3duKG1lKXtcclxuICAgICAgICBtZS5kaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgICAgIG1lLiRkb21Eb3duLmh0bWwobWUub3B0cy5kb21Eb3duLmRvbUxvYWQpO1xyXG4gICAgICAgIG1lLmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgIG1lLm9wdHMubG9hZERvd25GbihtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g6ZSB5a6aXHJcbiAgICBNeURyb3BMb2FkLnByb3RvdHlwZS5sb2NrID0gZnVuY3Rpb24oZGlyZWN0aW9uKXtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIC8vIOWmguaenOS4jeaMh+WumuaWueWQkVxyXG4gICAgICAgIGlmKGRpcmVjdGlvbiA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgLy8g5aaC5p6c5pON5L2c5pa55ZCR5ZCR5LiKXHJcbiAgICAgICAgICAgIGlmKG1lLmRpcmVjdGlvbiA9PSAndXAnKXtcclxuICAgICAgICAgICAgICAgIG1lLmlzTG9ja0Rvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICAvLyDlpoLmnpzmk43kvZzmlrnlkJHlkJHkuItcclxuICAgICAgICAgICAgfWVsc2UgaWYobWUuZGlyZWN0aW9uID09ICdkb3duJyl7XHJcbiAgICAgICAgICAgICAgICBtZS5pc0xvY2tVcCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbWUuaXNMb2NrVXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbWUuaXNMb2NrRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAvLyDlpoLmnpzmjIflrprplIHkuIrmlrlcclxuICAgICAgICB9ZWxzZSBpZihkaXJlY3Rpb24gPT0gJ3VwJyl7XHJcbiAgICAgICAgICAgIG1lLmlzTG9ja1VwID0gdHJ1ZTtcclxuICAgICAgICAvLyDlpoLmnpzmjIflrprplIHkuIvmlrlcclxuICAgICAgICB9ZWxzZSBpZihkaXJlY3Rpb24gPT0gJ2Rvd24nKXtcclxuICAgICAgICAgICAgbWUuaXNMb2NrRG93biA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vIOS4uuS6huino+WGs0RFTU815LitdGFi5pWI5p6cYnVn77yM5Zug5Li65ruR5Yqo5Yiw5LiL6Z2i77yM5YaN5ruR5LiK5Y6754K5dGFi77yMZGlyZWN0aW9uPWRvd27vvIzmiYDku6XmnIlidWdcclxuICAgICAgICAgICAgbWUuZGlyZWN0aW9uID0gJ3VwJztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIOino+mUgVxyXG4gICAgTXlEcm9wTG9hZC5wcm90b3R5cGUudW5sb2NrID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgbWUgPSB0aGlzO1xyXG4gICAgICAgIC8vIOeugOWNleeyl+aatOino+mUgVxyXG4gICAgICAgIG1lLmlzTG9ja1VwID0gZmFsc2U7XHJcbiAgICAgICAgbWUuaXNMb2NrRG93biA9IGZhbHNlO1xyXG4gICAgICAgIC8vIOS4uuS6huino+WGs0RFTU815LitdGFi5pWI5p6cYnVn77yM5Zug5Li65ruR5Yqo5Yiw5LiL6Z2i77yM5YaN5ruR5LiK5Y6754K5dGFi77yMZGlyZWN0aW9uPWRvd27vvIzmiYDku6XmnIlidWdcclxuICAgICAgICBtZS5kaXJlY3Rpb24gPSAndXAnO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDml6DmlbDmja5cclxuICAgIE15RHJvcExvYWQucHJvdG90eXBlLm5vRGF0YSA9IGZ1bmN0aW9uKGZsYWcpe1xyXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICAgICAgaWYoZmxhZyA9PT0gdW5kZWZpbmVkIHx8IGZsYWcgPT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIG1lLmlzRGF0YSA9IGZhbHNlO1xyXG4gICAgICAgIH1lbHNlIGlmKGZsYWcgPT0gZmFsc2Upe1xyXG4gICAgICAgICAgICBtZS5pc0RhdGEgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8g6YeN572uXHJcbiAgICBNeURyb3BMb2FkLnByb3RvdHlwZS5yZXNldGxvYWQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBtZSA9IHRoaXM7XHJcbiAgICAgICAgaWYobWUuZGlyZWN0aW9uID09ICdkb3duJyAmJiBtZS51cEluc2VydERPTSl7XHJcbiAgICAgICAgICAgIG1lLiRkb21VcC5jc3MoeydoZWlnaHQnOicwJ30pLm9uKCd3ZWJraXRUcmFuc2l0aW9uRW5kIG1velRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZCcsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIG1lLmxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIG1lLnVwSW5zZXJ0RE9NID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgZm5SZWNvdmVyQ29udGVudEhlaWdodChtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1lbHNlIGlmKG1lLmRpcmVjdGlvbiA9PSAndXAnKXtcclxuICAgICAgICAgICAgbWUubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAvLyDlpoLmnpzmnInmlbDmja5cclxuICAgICAgICAgICAgaWYobWUuaXNEYXRhKXtcclxuICAgICAgICAgICAgICAgIC8vIOWKoOi9veWMuuS/ruaUueagt+W8j1xyXG4gICAgICAgICAgICAgICAgbWUuJGRvbURvd24uaHRtbChtZS5vcHRzLmRvbURvd24uZG9tUmVmcmVzaCk7XHJcbiAgICAgICAgICAgICAgICBmblJlY292ZXJDb250ZW50SGVpZ2h0KG1lKTtcclxuICAgICAgICAgICAgICAgIGZuQXV0b0xvYWQobWUpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vIOWmguaenOayoeaVsOaNrlxyXG4gICAgICAgICAgICAgICAgbWUuJGRvbURvd24uaHRtbChtZS5vcHRzLmRvbURvd24uZG9tTm9EYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gY3Nz6L+H5rihXHJcbiAgICBmdW5jdGlvbiBmblRyYW5zaXRpb24oZG9tLG51bSl7XHJcbiAgICAgICAgZG9tLmNzcyh7XHJcbiAgICAgICAgICAgICctd2Via2l0LXRyYW5zaXRpb24nOidhbGwgJytudW0rJ21zJyxcclxuICAgICAgICAgICAgJ3RyYW5zaXRpb24nOidhbGwgJytudW0rJ21zJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSk7XHJcbiJdfQ==\n"]}