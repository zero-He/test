!function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[i]={exports:{}};t[i][0].call(l.exports,function(e){var n=t[i][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){this.el=$(e),this.opts=$.extend({},i.defaults,t),this.dl=this._init()}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();i.defaults={url:null,formId:null,curPage:1,pageSize:10,autoLoad:!0,distance:50,threshold:"",onParams:null,onRender:function(e,t){}},i.prototype._invoke=function(e){var t,n=this.opts;n.params?t=$.extend({},n.params,{curPage:n.curPage,pageSize:n.pageSize}):n.onParams?(t=n.onParams(),t.curPage=n.curPage,t.pageSize=n.pageSize):n.formId?(t=$("#"+n.formId).serialize()||"",t+=t.length>0?"&":"",t+="curPage="+n.curPage+"&pageSize="+n.pageSize):t={curPage:n.curPage,pageSize:n.pageSize},$.post(n.url,t).done(function(t){if(t&&t.datas&&t.datas.page&&t.datas.page.dataList.length>0){var r=t.datas.page;n.onRender&&(n.onRender(r.dataList,n.curPage),n.curPage+=1,n.curPage>r.totalPage&&(e.lock(),e.noData()))}else e.lock(),e.noData();e.resetload()}).fail(function(){e.resetload()})},i.prototype._init=function(){var e=this,t=$.extend({},this.opts,{scrollArea:window,loadUpFn3:function(t){e.reload()},loadDownFn:function(t){t.isData&&e._invoke(t)}});return this.el.dropload(t)},i.prototype.reload=function(){this.opts.curPage=1,this.dl.unlock(),this.dl.noData(!1),this.dl.opts.loadDownFn(this.dl)};var u=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.dp=null,n}return a(t,e),s(t,[{key:"reload",value:function(){this.dp.reload()}},{key:"componentDidMount",value:function(){var e=this,t=this.props.opts;e.props.params&&(t.params=this.props.params),t.onRender=function(t,n){e.props.onRender&&e.props.onRender(t,n)},this.dp=new i(this.refs.dlDom,t)}},{key:"componentWillUnmount",value:function(){this.dp=null}},{key:"render",value:function(){return React.createElement("div",{ref:"dlDom"},React.createElement("div",null,this.props.children))}}]),t}(React.Component);t.exports=u},{}],2:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n,r){var o,a=void 0===e?"undefined":u(e);return o="string"===a?t[e]:"function"===a?e(t,n):"",null==o||void 0==o?r||"":o}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.defVal||"",t=this.props,n=t.columns,r=t.datas,o=t.caption,a=t.showHead,s=null;a&&(s=React.createElement("thead",null,React.createElement("tr",null,n.map(function(e){return React.createElement("th",{style:e.width?{width:e.width}:{}},e.title)}))));var u=r.map(function(t,r){return React.createElement("tr",null,n.map(function(n){return React.createElement("td",{style:n.width?{width:n.width}:{}},i(n.field,t,r,e))}))});return React.createElement("table",null,o,s,React.createElement("tbody",null,u))}}]),t}(React.Component);c.propTypes={columns:React.PropTypes.array,datas:React.PropTypes.array,showHead:React.PropTypes.bool},t.exports=c},{}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../../react/DropLoad"),u=e("../../react/SimpleTable"),c=e("../../utils/date"),l={submitStatus:1,userId:ReportCst.userId,cycleId:ReportCst.cycleId},f={1:[{title:"作业名称",width:"50%",field:"homeworkName"},{title:"截止时间",width:"25%",field:function(e,t){return c.format(e.closeTime,"yyyy-MM-dd HH:mm")}},{title:"提交时间",width:"25%",field:function(e,t){return c.format(e.submitTime,"yyyy-MM-dd HH:mm")}}],2:[{title:"作业名称",width:"50%",field:"homeworkName"},{title:"截止时间",width:"25%",field:function(e,t){return c.format(e.closeTime,"yyyy-MM-dd HH:mm")}},{title:"延交时间",width:"25%",field:function(e,t){return c.format(e.submitTime,"yyyy-MM-dd HH:mm")}}],0:[{title:"作业名称",width:"70%",field:"homeworkName"},{title:"截止时间",width:"30%",field:function(e,t){return c.format(e.closeTime,"yyyy-MM-dd HH:mm")}}]},p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={submitStatus:1,datas:[]},n}return a(t,e),i(t,[{key:"handleRender",value:function(e,t){t>1&&(e=this.state.datas.concat(e)),this.setState({datas:e})}},{key:"handleChangeStatus",value:function(e){this.setState({submitStatus:e,datas:[]}),l.submitStatus=e,this.refs.dropload.reload()}},{key:"render",value:function(){var e=this.state,t=e.submitStatus,n=e.datas,r={url:"homework2.htm",onParams:function(){return l}};return React.createElement("div",null,React.createElement("section",{className:"c-top-title"},React.createElement("span",null,ReportCst.cycleName)),React.createElement("nav",{className:"c-nav"},React.createElement("ul",null,React.createElement("li",{className:1==t?"cur":"",onClick:this.handleChangeStatus.bind(this,1)},"正常提交"),React.createElement("li",{className:2==t?"cur":"",onClick:this.handleChangeStatus.bind(this,2)},"延迟提交"),React.createElement("li",{className:0==t?"cur":"",onClick:this.handleChangeStatus.bind(this,0)},"未提交"))),React.createElement(s,{ref:"dropload",opts:r,onRender:this.handleRender.bind(this)},React.createElement("div",{className:"c-table"},React.createElement(u,{columns:f[t],datas:n,showHead:!0}))))}}]),t}(React.Component),d=document.getElementById("app");ReactDOM.render(React.createElement(p,null),d)},{"../../react/DropLoad":1,"../../react/SimpleTable":2,"../../utils/date":4}],4:[function(e,t,n){"use strict";function r(e){var t=new Date;e&&(l.isDate(e)||e instanceof r?t=new Date(e.getTime()):l.isNumber(e)&&(t=new Date(e))),this._d=t}function o(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function a(e,t){return t=t||2,function(){return o(l.isString(e)?this.get(e):e.call(this),t)}}function i(e){return function(t){var n=parseInt(t);l.isString(e)?this.set(e,n):e.call(this,n)}}var s=Object.prototype,u=s.toString,c=s.hasOwnProperty,l={};l.has=function(e,t){return null!=e&&c.call(e,t)},["Function","String","Number","Date"].forEach(function(e){l["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),l.memoize=function(e,t){var n=function n(r){var o=n.cache,a=""+(t?t.apply(this,arguments):r);return l.has(o,a)||(o[a]=e.apply(this,arguments)),o[a]};return n.cache={},n};var f={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Date:864e5,Week:6048e5},p={ms:"Milliseconds",s:"Seconds",m:"Minutes",H:"Hours",d:"Date",M:"Month",y:"FullYear"};r.prototype.get=function(e){var t=p[e]||e,n=null;switch(t){case"isoMonth":n=this.get("M")+1;break;case"simpleYear":n=this.get("y")%100;break;default:n=this._d["get"+t]()}return n},r.prototype.set=function(e,t){var n=p[e]||e;switch(n){case"isoMonth":this.set("M",t-1);break;case"simpleYear":this.set("y",100*Math.floor(this.get("y")/100)+t);break;default:this._d["set"+n](t)}return this},r.prototype.truncate=function(e){var t=new r(this.getTime());switch(p[e]||e){case"FullYear":t.set("M",0);case"Month":t.set("d",1);case"Date":t.set("H",0);case"Hours":t.set("m",0);case"Minutes":t.set("s",0);case"Seconds":t.set("ms",0)}return t};var d=/(yyyy|yy|MM|dd|HH|mm|ss|SSS|.)/g,m={yyyy:a("y",4),yy:a("simpleYear"),MM:a("isoMonth"),dd:a("d"),HH:a("H"),mm:a("m"),ss:a("s"),SSS:a("ms",3)},y=l.memoize(function(e){var t=e.match(d),n=t.map(function(e){return m[e]||e});return function(e){var t="";return n.forEach(function(n){t+=l.isFunction(n)?n.call(e):n}),t}});r.prototype.format=function(e){return y(e||"yyyy-MM-dd")(this)},r.prototype.getTime=function(){return this.get("Time")},r.prototype.setTime=function(e){return this.set("Time",e)},r.prototype.compareTo=function(e){if(e instanceof r)return this._d.getTime()-e._d.getTime();throw"target to compare is not LocalDate instance."},r.prototype.toDate=function(){return new Date(this.getTime())},r.prototype.add=function(e,t){var n=new r(this.getTime()),o=p[t]||t,a=f[o];if(a)n.setTime(this.getTime()+e*a);else if("FullYear"===o)n.set("y",this.get("y")+e);else if("Month"===o){var i=this.get("M")+e,s=Math.floor(i/12),u=i-12*s;0!==s&&n.set("y",this.get("y")+s),n.set("M",u)}return n};var h={yyyy:{m:"\\d{4}",p:i("y")},yy:{m:"\\d{2}",p:i("simpleYear")},MM:{m:"\\d{1,2}",p:i("isoMonth")},dd:{m:"\\d{1,2}",p:i("d")},HH:{m:"\\d{1,2}",p:i("H")},mm:{m:"\\d{1,2}",p:i("m")},ss:{m:"\\d{1,2}",p:i("s")},SSS:{m:"\\d{3}",p:i("ms")}},b=l.memoize(function(e){var t=e.match(d),n="^",o=[];t.forEach(function(e){var t=h[e];t?(n+="("+t.m+")",o.push(t.p)):n+=e}),n+="$";var a=new RegExp(n);return function(e){if(!e||!a.test(e))return null;var t=(new r).truncate("y"),n=a.exec(e);return o.forEach(function(e,r){e.call(t,n[r+1])}),t}});r.parse=function(e,t){return b(t)(e)},r.DEFAULT_FMTS=["yyyy-MM-dd","yyyy-MM","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy/MM/dd"],r.of=function(e){if(e){if(l.isDate(e)||e instanceof r||l.isNumber(e))return new r(e);if(l.isString(e)){var t=null;return r.DEFAULT_FMTS.some(function(n){return!!(t=r.parse(e,n))}),t}return new r}return new r},r.format=function(e,t){return e?(t=t||"yyyy-MM-dd",r.of(e).format(t)):""},t.exports=r},{}]},{},[3]);