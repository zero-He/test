define(function (require, exports, module) {
"use strict";function fillNull(e){for(var t=0;t<e.length;t++)e[t]=null!=e[t]?e[t]:"-";return e}function labelTop(e){return{normal:{color:e,label:{show:!0,position:"center",formatter:"{b}",textStyle:{color:"#333",fontSize:18,baseline:"bottom"}},labelLine:{show:!1}}}}function labelBottom(e){return{normal:{color:"#d7d7d7",label:{show:!0,position:"center",textStyle:{color:e,fontSize:20}},labelLine:{show:!1}}}}var _require=require("../utils/number"),toFixed=_require.toFixed,toRate=_require.toRate,Colors={submit:["#619eed","#ffd270","#ff6e6e"],score:["#2fbd68","#74d64b","#5cc0ff","#ffcd61","#ff6661"]},Labels={submit:["正常提交","延迟提交","未提交"],score:["优秀","良好","及格","较差","危险"],cycles:{0:["周","月","学期","学年"],1:["上周","本周"],2:["上月","本月"],3:["上学期","本学期"],4:["上学年","本学年"]}},CC={Colors:Colors,Labels:Labels};CC.buildSubmitPie=function(e,t,a,r){r=r||"人";var l=arguments,o=Labels.submit.map(function(e,t){return{name:e,value:l[t]}}),i=e+t+a;return{color:Colors.submit,legend:{bottom:20,data:Labels.submit},tooltip:{formatter:"应交"+r+"数："+i+"<br />{b}：{c}（{d}%）"},series:[{type:"pie",center:["50%","43%"],radius:["40%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:16,fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:o}]}},CC.buildScorePie=function(e,t,a,r,l,o){o=o||"人";var i=arguments,n=Labels.score.map(function(e,t){return{name:e,value:i[t]}}),s=e+t+a+r+l;return{color:Colors.score,legend:{bottom:20,data:Labels.score},tooltip:{formatter:"有成绩总"+o+"数："+s+"<br />{b}"+o+"数：{c}（{d}%）"},series:[{type:"pie",center:["50%","43%"],radius:["40%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,formatter:"{b}:{c}"+o+",{d}%",textStyle:{fontSize:16,fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:n}]}},CC.buildClassScoreBar=function(e,t,a){return{color:["#5b9bd5","#8bc036","#fbf321"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["最高分","最低分"]},grid:{top:60,left:120,right:120,bottom:0,containLabel:!0},xAxis:[{type:"category",data:[""]}],yAxis:[{type:"value",max:100,splitNumber:10,axisLabel:{formatter:"{value} 分"}}],series:[{name:"平均分",type:"bar",barWidth:"40%",data:[toFixed(e,1)]},{name:"最高分",type:"line",data:[toFixed(t,1)],symbolSize:10,markPoint:{silent:!0,data:[{type:"max",name:"最高分"}]}},{name:"最低分",type:"line",data:[toFixed(a,1)],symbolSize:10,markPoint:{silent:!0,data:[{type:"min",name:"最低分"}]}}]}},CC.buildScoreCompBar=function(e,t,a,r){var l=Labels.cycles[e];return{color:["#5b9bd5","#ed7d31"],tooltip:{trigger:"axis"},legend:{data:l},xAxis:[{type:"category",data:t}],yAxis:[{type:"value",min:0,max:100,interval:10,axisLabel:{formatter:"{value} 分"}}],series:[{name:l[0],type:"bar",barMaxWidth:60,data:r,markLine:{data:[{type:"average",name:"平均分"}]}},{name:l[1],type:"bar",barMaxWidth:60,data:a,markLine:{data:[{type:"average",name:"平均分"}]}}]}},CC.buildOverallScore=function(e,t){var a=[{type:"pie",center:["25%","50%"],radius:[47,52],x:"0%",itemStyle:{normal:{label:{formatter:function(t){return e},textStyle:{baseline:"top"}}}},data:[{name:"综合得分",value:e,itemStyle:labelTop("#00bb9c")},{name:"other",value:toFixed(100-e,1),itemStyle:labelBottom("#f86b4f")}]}];return t&&a.push({type:"pie",center:["75%","50%"],radius:[47,52],x:"10%",itemStyle:{normal:{label:{formatter:function(e){return t+"%"},textStyle:{baseline:"top"}}}},data:[{name:"领先",value:t,itemStyle:labelTop("#66ccff")},{name:"other",value:toFixed(100-t,1),itemStyle:labelBottom("#66ccff")}]}),{series:a}},CC.buildScoreRadar=function(e,t,a){var r=e.slice(0);if(e.length<3)for(var l=e.length;l<3;l++)e.push(""),t.push(0),a&&a.push(0);var o=e.map(function(e){return{text:e,max:100}}),i=[];return a&&i.push({value:fillNull(a),name:"班级平均分",itemStyle:{normal:{areaStyle:{type:"default"}}}}),i.push({value:fillNull(t),name:"个人得分"}),{legend:{x:"left",orient:"vertical",data:["班级平均分","个人得分"]},tooltip:{formatter:function(e){return e.name+r.map(function(t,a){return"<br />"+t+"："+e.value[a]}).join("")}},polar:[{indicator:o,splitNumber:5,center:["50%","55%"],radius:115,name:{textStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#ccc"}},splitArea:{areaStyle:{color:["#ffffff","#ffffff"]}},splitLine:{lineStyle:{width:2,color:"#e9eaea"}}}],color:["#a9cfef","#fe6910"],series:[{type:"radar",data:i}]}},CC.buildScoreTrend=function(e,t,a){var r=[],l=[],o=[];return t&&(t=t.map(function(e){return null!=e?e:"-"}),l.push("#ed7d31"),o.push("我的得分"),r.push({name:"我的得分",type:"line",data:t,showAllSymbol:!0})),a&&(a=a.map(function(e){return null!=e?e:"-"}),l.push("#5b9bd5"),o.push("班级得分"),r.push({name:"班级得分",type:"line",data:a,showAllSymbol:!0})),{color:l,tooltip:{trigger:"axis"},legend:{data:o},dataZoom:[{type:"inside"},{}],xAxis:{type:"category",data:e},yAxis:{type:"value",max:100,interval:10,axisLabel:{formatter:"{value} 分"}},series:r}},CC.buildScoreSectionBar=function(e,t){return{color:["#3398DB"],tooltip:{trigger:"axis",formatter:"{b}分{c}人",axisPointer:{type:"shadow"}},grid:{top:10,left:10,right:10,bottom:10,containLabel:!0},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0},axisLabel:{interval:0},splitLine:{show:!0,lineStyle:{color:["#ddd"],type:"dashed"}}}],yAxis:[{type:"value",axisLabel:{formatter:"{value}人"},splitLine:{show:!0,lineStyle:{type:"dashed"}}}],series:[{name:"",type:"bar",barWidth:"90%",data:t}]}},module.exports=CC;
});