define(function (require, exports, module) {
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),React=require("common/react/react"),$=require("jquery"),viewUrlPrefix=Leke.domain.beikeServerName+"/auth/common/microcourse/preview.htm?microcourseId=",defaultImgUrl=Leke.domain.staticServerName+"/images/analyse/course-bg.png",Microcourse=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.props.data;return React.createElement("li",{key:e.microcourseId,className:"course-item"},React.createElement("a",{href:viewUrlPrefix+e.microcourseId,target:"_blank"},React.createElement("img",{src:e.thumbnail?Leke.domain.fileServerName+"/"+e.thumbnail:defaultImgUrl}),React.createElement("div",{className:"cover"},React.createElement("h3",{className:"coursename"},e.microcourseName),React.createElement("p",null,"主讲教师：",React.createElement("span",{className:"teacher f-ml20"},e.createdName)),React.createElement("p",null,"时长：",React.createElement("span",{className:"time f-ml20"},e.timeStr?e.timeStr:"未知")),React.createElement("p",null,"课程简介：",React.createElement("span",{className:"intro f-ml20"},e.description?e.description.substring(0,23):"暂无")))))}}]),t}(React.Component),MicroRecommend=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this.props.datas;return React.createElement("ul",{className:"clear"},e.map(function(e,t){return React.createElement(Microcourse,{key:t,data:e})}))}}]),t}(React.Component);$(document).on("mouseenter mouseleave",".course-item",function(e){var t=$(this).width(),r=$(this).height(),a=(e.pageX-(this.offsetLeft+t/2))*(t>r?r/t:1),n=(e.pageY-(this.offsetTop+r/2))*(r>t?t/r:1),o=Math.round((Math.atan2(n,a)*(180/Math.PI)+180)/90+3)%4,c=[{left:0,top:-148},{left:255,top:0},{left:0,top:148},{left:-255,top:0}];"mouseenter"==e.type?$(this).find(".cover").css(c[o]).stop(!0,!0).animate({left:0,top:0},200):$(this).find(".cover").stop(!0,!0).animate(c[o],200)}),module.exports=MicroRecommend;
});